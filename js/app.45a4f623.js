(function(t){function e(e){for(var o,s,a=e[0],i=e[1],u=e[2],f=0,h=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);c&&c(e);while(h.length)h.shift()();return l.push.apply(l,u||[]),r()}function r(){for(var t,e=0;e<l.length;e++){for(var r=l[e],o=!0,a=1;a<r.length;a++){var i=r[a];0!==n[i]&&(o=!1)}o&&(l.splice(e--,1),t=s(s.s=r[0]))}return t}var o={},n={app:0},l=[];function s(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=o,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(r,o,function(e){return t[e]}.bind(null,o));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var c=i;l.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"0acc":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-container",[r("el-header",{attrs:{width:"250px"}},[r("h5",[t._v("1653014 李晓恒 内存管理项目 动态内存分配")])]),r("el-main",[r("el-container",[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("请求分配队列")])]),r("el-table",{attrs:{data:t.order,height:"300px"}},[r("el-table-column",{attrs:{prop:"num",label:"进程号",width:"80"}}),r("el-table-column",{attrs:{prop:"order",label:"申请/释放",width:"80"}}),r("el-table-column",{attrs:{prop:"room",label:"内存大小（K）"}})],1),r("formm",{ref:"formm",on:{clear:t.Clear,add:t.Add,cut:t.Cut}})],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("控制器")])]),r("el-form",[r("el-form-item",{attrs:{label:"选择算法"}},[r("el-select",{attrs:{placeholder:"请选择",disabled:t.bable},model:{value:t.meth,callback:function(e){t.meth=e},expression:"meth"}},[r("el-option",{attrs:{label:"最先适配算法",value:"first"}}),r("el-option",{attrs:{label:"最佳适配算法",value:"best"}})],1)],1)],1),r("el-button",{attrs:{disabled:t.able,type:"primary"},on:{click:function(e){return t.runOrder(t.order[0].num,t.order[0].room,t.order[0].order)}}},[t._v("执行一条指令")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.refresh()}}},[t._v("重置")]),r("br"),r("br"),r("span",[t._v("先选择算法才能开始执行")]),r("br"),r("span",[t._v("开始执行指令后将不能修改指令队列")])],1),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("内存情况")])]),r("span",[t._v("申请/分配记录")]),r("el-table",{attrs:{data:t.ordered,height:"150px"}},[r("el-table-column",{attrs:{prop:"num",label:"进程号",width:"80"}}),r("el-table-column",{attrs:{prop:"order",label:"申请/释放",width:"80"}}),r("el-table-column",{attrs:{prop:"room",label:"内存大小（K）"}})],1),r("span",[t._v("空闲分区链情况(红色）")]),r("el-table",{attrs:{data:t.empty,height:"250px"}},[r("el-table-column",{attrs:{prop:"start",label:"起始",width:"80"}}),r("el-table-column",{attrs:{prop:"end",label:"结束",width:"80"}}),r("el-table-column",{attrs:{prop:"size",label:"内存大小（K）"}})],1),r("span",[t._v("已占用内存情况（蓝色）")]),r("el-table",{attrs:{data:t.full,height:"250px"}},[r("el-table-column",{attrs:{prop:"start",label:"起始",width:"80"}}),r("el-table-column",{attrs:{prop:"end",label:"结束",width:"80"}}),r("el-table-column",{attrs:{prop:"size",label:"内存大小（K）"}})],1)],1),r("el-card",{staticClass:"box-card2"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("内存情况展示")]),r("br"),r("span",[t._v("从下到上地址依次为1-640")])]),r("store",{ref:"store"})],1)],1)],1)],1)},l=[],s=r("b85c"),a=(r("cb29"),r("a9e3"),r("a434"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},t._l(t.storage,(function(t,e){return r("div",{key:e},[r("div",{staticClass:"pix",class:{active:!0===t.state}})])})),0)}),i=[],u=r("53ca");function c(t){this.address=t,this.state=!1}function f(t,e,r){this.start=t,this.end=e,this.size=e-t+1,this.num=r}var h={name:"store",data:function(){return{empty:[],full:[],storage:[]}},components:{},beforeCreate:function(){},created:function(){this.empty.push(new f(1,640,0));var t=0;for(t=0;t<640;t++)this.storage.push(new c(640-t)),console.log(this.storage[t].address)},beforeMount:function(){},mounted:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},computed:{},watch:{full:function(){console.log("changedd"),this.ssort(),this.merge();var t,e=Object(s["a"])(this.full);try{for(e.s();!(t=e.n()).done;){var r=t.value;console.log(r.start),console.log(r.end);for(var o=r.start;o<=r.end;o++)this.storage[640-o].state=!0}}catch(u){e.e(u)}finally{e.f()}console.log("yes");var n,l=Object(s["a"])(this.empty);try{for(l.s();!(n=l.n()).done;){var a=n.value;console.log(a.start),console.log(a.end);for(var i=a.start;i<=a.end;i++)this.storage[640-i].state=!1}}catch(u){l.e(u)}finally{l.f()}},deep:!0},methods:{bestRun:function(t,e,r){if(console.log(t),console.log(Object(u["a"])(e)),console.log(r),"申请"==r){console.log("B申请");var o=999,n=-1;for(var l in this.empty)if(this.empty[l].size>=e){var s=this.empty[l].size-e;s<o&&(o=s,n=l)}this.full.push(new f(this.empty[n].start,this.empty[n].start+e-1,t)),this.empty[n].size-=e,this.empty[n].start+=e}else if("释放"==r)for(var a in console.log("释放"),this.full)if(this.full[a].num==t){console.log("释放1"),this.empty.push(this.full[a]),console.log("释放2"),this.full.splice(a,1);break}this.ssort(),this.merge()},runOrder:function(t,e,r){if(console.log(t),console.log(Object(u["a"])(e)),console.log(r),"申请"==r){var o=!1;console.log("申请");var n,l=Object(s["a"])(this.empty);try{for(l.s();!(n=l.n()).done;){var a=n.value;if(a.size>=e){this.full.push(new f(a.start,a.start+e-1,t)),a.size-=e,a.start+=e,o=!0;break}}}catch(c){l.e(c)}finally{l.f()}0==o&&this.open()}else if("释放"==r)for(var i in console.log("释放"),this.full)if(this.full[i].num==t){console.log("释放1"),this.empty.push(this.full[i]),console.log("释放2"),this.full.splice(i,1);break}this.ssort(),this.merge()},open:function(){this.$confirm("没有足够的内存可以支配, 即将重启","内存溢出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.location.reload()})).catch((function(){window.location.reload()}))},ssort:function(){for(var t=0;t<this.full.length;t++)for(var e=0;e<this.full.length-t-1;e++)if(this.full[e].start>this.full[e+1].start){var r=this.full[e];this.full[e]=this.full[e+1],this.full[e+1]=r}for(var o=0;o<this.empty.length;o++)for(var n=0;n<this.empty.length-o-1;n++)if(this.empty[n].start>this.empty[n+1].start){var l=this.empty[n];this.empty[n]=this.empty[n+1],this.empty[n+1]=l}},merge:function(){for(var t=0;t<this.empty.length;t++)this.empty[t].num=0;for(var e=0;e<this.empty.length-1;e++)this.empty[e].end+1==this.empty[e+1].start&&(this.empty[e].end=this.empty[e+1].end,this.empty[e].size+=this.empty[e+1].size,this.empty.splice(e+1,1))}}},d=h,m=(r("cfae"),r("2877")),p=Object(m["a"])(d,a,i,!1,null,null,null),b=p.exports,v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[r("el-card",[r("el-button",{attrs:{type:"primary",disabled:t.db},on:{click:function(e){return t.$emit("clear")}}},[t._v("清空队列")])],1),r("el-card",[r("el-form-item",{attrs:{"label-width":"0px"}},[r("el-input",{attrs:{placeholder:"输入要申请的内存大小"},model:{value:t.form.sizz,callback:function(e){t.$set(t.form,"sizz",e)},expression:"form.sizz"}})],1),r("el-button",{attrs:{type:"primary",disabled:t.db},on:{click:function(e){return t.$emit("add")}}},[t._v("添加申请指令")])],1),r("el-card",[r("el-form-item",{attrs:{"label-width":"0px"}},[r("el-select",{attrs:{placeholder:"请选择要释放的进程的号码"},on:{change:function(e){return t.selectOne()}},model:{value:t.form.nun,callback:function(e){t.$set(t.form,"nun",e)},expression:"form.nun"}},t._l(t.ord,(function(t,e){return r("el-option",{key:e,attrs:{label:t.num,value:t.num}})})),1)],1),r("el-button",{attrs:{type:"primary",disabled:t.db},on:{click:function(e){return t.$emit("cut")}}},[t._v("添加释放指令")])],1)],1)},y=[],g={name:"formm",data:function(){return{form:{sizz:"",nun:""},db:!1,ord:[{num:4,order:"申请",room:200},{num:5,order:"申请",room:140},{num:7,order:"申请",room:50}],cutNum:0}},methods:{onSubmit:function(){console.log("submit!")},diabe:function(){this.db=!0},selectOne:function(){console.log("sele"),this.cutNum=this.form.nun,console.log(this.cutNum)}}},w=g,x=Object(m["a"])(w,v,y,!1,null,null,null),_=x.exports,O={components:{store:b,formm:_},data:function(){var t={date:"2016-05-02"};return{bable:!1,able:!0,order:[{num:1,order:"申请",room:130},{num:2,order:"申请",room:60},{num:3,order:"申请",room:100},{num:2,order:"释放",room:60},{num:4,order:"申请",room:200},{num:3,order:"释放",room:100},{num:1,order:"释放",room:130},{num:5,order:"申请",room:140},{num:6,order:"申请",room:60},{num:7,order:"申请",room:50},{num:6,order:"释放",room:60}],current:8,meth:"",ordered:[],empty:[],full:[],tableData:Array(20).fill(t)}},watch:{meth:function(){""!=this.meth&&(this.able=!1)},order:function(){var t,e=[],r=Object(s["a"])(this.order);try{for(r.s();!(t=r.n()).done;){var o,n=t.value,l=0,a=Object(s["a"])(this.order);try{for(a.s();!(o=a.n()).done;){var i=o.value;i.num==n.num&&l++}}catch(u){a.e(u)}finally{a.f()}1==l&&e.push(n)}}catch(u){r.e(u)}finally{r.f()}this.$refs.formm.ord=e}},methods:{Cut:function(){var t,e,r=Number(this.$refs.formm.cutNum),o=Object(s["a"])(this.order);try{for(o.s();!(e=o.n()).done;){var n=e.value;if(n.num==r){t=n;break}}}catch(l){o.e(l)}finally{o.f()}this.order.push({num:r,order:"释放",room:t.room}),this.$refs.formm.form.nun=""},Add:function(){var t=Number(this.$refs.formm.form.sizz);this.order.push({num:this.current,order:"申请",room:t}),this.current++},Clear:function(){this.order.splice(0,this.order.length),this.current=1},runOrder:function(t,e,r){console.log("父组件中调用子组件方法"),"best"==this.meth?this.$refs.store.bestRun(t,e,r):"first"==this.meth&&this.$refs.store.runOrder(t,e,r),this.ordered.push(this.order.shift()),this.empty=this.$refs.store.empty,this.full=this.$refs.store.full,this.bable=!0,this.$refs.formm.diabe()},refresh:function(){window.location.reload()}}},j=O,z=(r("034f"),Object(m["a"])(j,n,l,!1,null,null,null)),$=z.exports,k=r("5c96"),C=r.n(k);r("0fae");o["default"].use(C.a),o["default"].config.productionTip=!1,new o["default"]({render:function(t){return t($)}}).$mount("#app")},"85ec":function(t,e,r){},cfae:function(t,e,r){"use strict";r("0acc")}});
//# sourceMappingURL=app.45a4f623.js.map